clean implementation of cool_features
